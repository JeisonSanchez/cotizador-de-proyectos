/**
 *
 * @author      Jeison Sanchez <jeison@nigma.co>
 * @website     http://www.nigma.co
 * @copyright   2021 Jeison Sanchez
 *
 * @frontend-framework
 * Name        : Nigma Framework
 * Description : Código pre-horneado listo para mezclar, probar y disfrutar! ♥
 * Version     : 3.0.0
 * Author      : Jeison Sanchez <jeison@nigma.co>
 * Website     : http://www.nigma.co
 * License     : MIT
 *
 */
$(function(){function t(){var t=$(window),o=$(".js-pedido"),e={offset_top:30};t.width()>991&&o.stick_in_parent(e),t.resize(function(){t.width()>991?o.stick_in_parent(e):o.trigger("sticky_kit:detach")})}numeral.register("locale","es",{delimiters:{million:",",thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(t){var o=t%10;return 1===o||3===o?"er":2===o?"do":7===o||0===o?"mo":8===o?"vo":9===o?"no":"to"},currency:{symbol:"$"}}),numeral.locale("es");var o,e,i,a=!0,n=!0,s=new Vue({el:"#app",data:{moneda:"COP",sueldo:25e5,sueldo_paralelo:25e5,horas_dia:8,gastos_mes:5e5,gastos_mes_paralelo:5e5,actividad:"",horas:1,costo_total:0,dias:[{dia:"Lunes",activo:!0},{dia:"Martes",activo:!0},{dia:"Miércoles",activo:!0},{dia:"Jueves",activo:!0},{dia:"Viernes",activo:!0},{dia:"Sábado",activo:!1},{dia:"Domingo",activo:!1}],actividades:[]},mounted:function(){var o,r,c,u;$.get("https://ipinfo.io/json?token=5d44e9a3d3f86f",function(t){o=t.ip,r=t.city,c=t.region,u=t.country}).done(function(){function o(){e.on("slide",function(t){s.sueldo_paralelo=t,n&&(n=!1,setTimeout(function(){setTimeout(function(){s.sueldo=e.getValue(),n=!0},200)},100))}),i.on("slide",function(t){s.gastos_mes_paralelo=t,a&&(a=!1,setTimeout(function(){setTimeout(function(){s.gastos_mes=i.getValue(),a=!0},200)},100))})}t(),"CO"==u?(s.sueldo=25e5,s.sueldo_paralelo=25e5,setTimeout(function(){e=new Slider("#sueldo",{step:1e5,min:5e5,max:1e7,formatter:function(t){return"Sueldo: COP "+numeral(t).format("$0,0")}}),i=new Slider("#gastos",{step:5e4,min:0,max:5e6,formatter:function(t){return"Gastos: COP"+numeral(t).format("$0,0")}}),o()},300)):(s.sueldo=1e3,s.sueldo_paralelo=1e3,s.gastos_mes=300,s.gastos_mes_paralelo=300,s.moneda="USD",setTimeout(function(){e=new Slider("#sueldo",{step:100,min:400,max:5e3,formatter:function(t){return"Sueldo: USD "+numeral(t).format("$0,0")}}),i=new Slider("#gastos",{step:100,min:0,max:3e3,formatter:function(t){return"Gastos: USD "+numeral(t).format("$0,0")}}),o()},300))})},beforeUpdate:function(){o!=this.costo_total&&(o=$("#costoTotal").attr("data-valor"))},updated:function(){o!=this.costo_total&&$("#costoTotal").prop("number",o).animateNumber({number:this.costo_total,numberStep:function(t,o){target=$(o.elem),valor=numeral(t).format("$0,0"),target.text(s.moneda+" "+valor)}}),this.costoProyecto},computed:{diasSeleccinados:function(){return this.dias.filter(function(t){return t.activo})},costoHora:function(){var t=Object.keys(this.diasSeleccinados).length,t=4*t;return(this.sueldo+this.gastos_mes)/t/this.horas_dia},costoProyecto:function(){var t=0;this.activities.forEach(function(o){t+=o.precio}),this.costo_total=t},activities:function(){var t=this.actividades,o=this;return t.forEach(function(t,e){t.precio=o.costoHora*t.horas}),t}},methods:{agregarActividad:function(){this.actividades.push({nombre:this.actividad,horas:this.horas}),this.actividad="",this.horas=1,setTimeout(function(){document.getElementById("agregarActividad").focus()},20)},borrarActividad:function(t,o){o.preventDefault(),this.actividades.splice(t,1)}},filters:{money:function(t,o){return o+" "+numeral(t).format("$0,0")}}})});